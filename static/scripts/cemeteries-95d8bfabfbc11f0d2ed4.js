_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[77],{"/gND":function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),o=n("bAGh"),s=n("TKOK"),c=n("5Ves"),i=n("8cHP"),l=r.a.createElement,u=function(e,t){return 1===t?e:"".concat(e,"/page/").concat(t).replace("//","/")},d=function(e){var t=e.current,n=e.total,a=e.perPage,r=e.baseUrl;if(!n)return null;for(var d=Math.ceil(n/a),f=t+4<d?t+4:d,p=t-4>0?t-4:1,m=[];p<=f;)m.push(p),p+=1;var b=(t-1)*a+1,g=t*a<n?t*a:n;return l("div",{className:"d-md-flex py-3 justify-content-between align-items-center pager"},d>1&&l(o.a,null,t>1&&l(s.a,{className:"first"},l(i.Link,{to:u(r,t-1)},l("a",{className:"text-decoration-none"},l(c.a,{previous:!0,tag:"a"})))),m.map((function(e){return l(s.a,{key:e,active:e===t},l(i.Link,{to:u(r,e)},l("a",{className:"text-decoration-none"},l(c.a,{tag:"a"},e))))})),t<d&&l(s.a,{className:"last"},l(i.Link,{to:u(r,t+1)},l("a",{className:"text-decoration-none"},l(c.a,{next:!0,tag:"a"}))))),n>1&&l("div",{className:"ml-md-auto mt-3 mt-md-0"},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b ",b,"-",g," \u0438\u0437 ",n))};d.defaultProps={current:1,total:0,perPage:20},t.a=d},"0E8A":function(e,t,n){"use strict";var a=n("ELrk"),r=n("sDqW"),o=n("q1tI"),s=n.n(o),c=n("17x9"),i=n.n(c),l=n("TSYQ"),u=n.n(l),d=n("33Jr"),f={children:i.a.node,inline:i.a.bool,tag:d.q,color:i.a.string,className:i.a.string,cssModule:i.a.object},p=function(e){var t=e.className,n=e.cssModule,o=e.inline,c=e.color,i=e.tag,l=Object(r.a)(e,["className","cssModule","inline","color","tag"]),f=Object(d.m)(u()(t,!o&&"form-text",!!c&&"text-"+c),n);return s.a.createElement(i,Object(a.a)({},l,{className:f}))};p.propTypes=f,p.defaultProps={tag:"small",color:"muted"},t.a=p},"3OM0":function(e,t,n){"use strict";var a=n("ELrk"),r=n("sDqW"),o=n("q1tI"),s=n.n(o),c=n("17x9"),i=n.n(c),l=n("TSYQ"),u=n.n(l),d=n("33Jr"),f=i.a.oneOfType([i.a.number,i.a.string]),p=i.a.oneOfType([i.a.bool,i.a.string,i.a.number,i.a.shape({size:f,order:f,offset:f})]),m={children:i.a.node,hidden:i.a.bool,check:i.a.bool,size:i.a.string,for:i.a.string,tag:d.q,className:i.a.string,cssModule:i.a.object,xs:p,sm:p,md:p,lg:p,xl:p,widths:i.a.array},b={tag:"label",widths:["xs","sm","md","lg","xl"]},g=function(e,t,n){return!0===n||""===n?e?"col":"col-"+t:"auto"===n?e?"col-auto":"col-"+t+"-auto":e?"col-"+n:"col-"+t+"-"+n},h=function(e){var t=e.className,n=e.cssModule,o=e.hidden,c=e.widths,i=e.tag,l=e.check,f=e.size,p=e.for,m=Object(r.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),b=[];c.forEach((function(t,a){var r=e[t];if(delete m[t],r||""===r){var o,s=!a;if(Object(d.k)(r)){var c,i=s?"-":"-"+t+"-";o=g(s,t,r.size),b.push(Object(d.m)(u()(((c={})[o]=r.size||""===r.size,c["order"+i+r.order]=r.order||0===r.order,c["offset"+i+r.offset]=r.offset||0===r.offset,c))),n)}else o=g(s,t,r),b.push(o)}}));var h=Object(d.m)(u()(t,!!o&&"sr-only",!!l&&"form-check-label",!!f&&"col-form-label-"+f,b,!!b.length&&"col-form-label"),n);return s.a.createElement(i,Object(a.a)({htmlFor:p},m,{className:h}))};h.propTypes=m,h.defaultProps=b,t.a=h},"5Ves":function(e,t,n){"use strict";var a=n("ELrk"),r=n("sDqW"),o=n("q1tI"),s=n.n(o),c=n("17x9"),i=n.n(c),l=n("TSYQ"),u=n.n(l),d=n("33Jr"),f={"aria-label":i.a.string,children:i.a.node,className:i.a.string,cssModule:i.a.object,next:i.a.bool,previous:i.a.bool,first:i.a.bool,last:i.a.bool,tag:d.q},p=function(e){var t,n=e.className,o=e.cssModule,c=e.next,i=e.previous,l=e.first,f=e.last,p=e.tag,m=Object(r.a)(e,["className","cssModule","next","previous","first","last","tag"]),b=Object(d.m)(u()(n,"page-link"),o);i?t="Previous":c?t="Next":l?t="First":f&&(t="Last");var g,h=e["aria-label"]||t;i?g="\u2039":c?g="\u203a":l?g="\xab":f&&(g="\xbb");var v=e.children;return v&&Array.isArray(v)&&0===v.length&&(v=null),m.href||"a"!==p||(p="button"),(i||c||l||f)&&(v=[s.a.createElement("span",{"aria-hidden":"true",key:"caret"},v||g),s.a.createElement("span",{className:"sr-only",key:"sr"},h)]),s.a.createElement(p,Object(a.a)({},m,{className:b,"aria-label":h}),v)};p.propTypes=f,p.defaultProps={tag:"a"},t.a=p},CC9i:function(e,t,n){"use strict";n.r(t);var a=n("wx14"),r=n("o0o1"),o=n.n(r),s=n("HaE+"),c=n("1OyB"),i=n("vuIU"),l=n("JX7q"),u=n("Ji7U"),d=n("md7G"),f=n("foSv"),p=n("rePB"),m=n("q1tI"),b=n.n(m),g=n("vgUL"),h=n("1Yj4"),v=n("sOKU"),y=n("ok1R"),k=n("rhny"),j=(n("yLiY"),n("nP3w")),O=n("bLKs"),x=n("eztb"),N=b.a.createElement;function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}var w=function(e){Object(u.a)(n,e);var t=T(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props.handler;return N(j.b,{onSubmit:e,render:function(e){var t=e.handleSubmit;e.values;return N("form",{onSubmit:t,className:"find-burial-form py-4 px-md-5 px-3 row"},N(y.a,{className:"flex-grow-1"},N(k.a,{md:12,lg:4},N(O.a,{title:"\u041f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e",name:"title",type:"text"})),N(k.a,{md:12,lg:4},N(x.a,{title:"\u041f\u043e \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u044e",name:"location",mode:"cemetery"})),N(k.a,{md:12,lg:4,className:"submit-col"},N(v.a,{type:"submit",color:"primary"},N("i",{className:"icon-search"}),N("span",null,"\u041d\u0430\u0439\u0442\u0438")))))}})}}]),n}(b.a.PureComponent);w.defaultProps={handler:function(){}};var R=w,I=n("/PWS"),C=n("MvVG"),P=n("8cHP"),S=b.a.createElement,E=function(e){var t=e.title,n=e.region,a=e.district,r=e.count,o=e.image,s=e.url,c=e.address,i=e.country;return S("div",{className:"py-4 border-bottom d-sm-flex burial-teaser"},S("div",{className:"mr-4 burial-teaser__image"},S("div",{style:{width:165,height:134},className:"bg-light rounded d-flex align-items-center justify-content-center"},S("img",{src:null!==o?o:"/static/no-image1024x768.svg",alt:t,className:"mw-100"}))),S("div",{className:"burial-teaser__content flex-grow-1"},S("div",{className:"mb-2"},S(P.Link,{to:s},S("a",{className:"burial-teaser__title"},t))),r>0&&S("div",null,S("strong",{className:"text-dark"},"\u041a\u043e\u043b-\u0432\u043e \u0437\u0430\u0445\u043e\u0440\u043e\u043d\u0435\u043d\u0438\u0439:\xa0"),S("span",null,r)),S("div",null,S("strong",{className:"text-dark"},"\u041c\u0435\u0441\u0442\u043e \u043d\u0430\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f:\xa0"),S("span",null,"".concat(i,", ").concat(n,", ").concat(a))),S("div",null,S("strong",{className:"text-dark"},"\u0410\u0434\u0440\u0435\u0441:\xa0"),S("span",{dangerouslySetInnerHTML:{__html:c}}))))};E.defaultProps={image:"/static/no-image1024x768.svg",count:0,location:null,url:null,address:null};var q=E,M=n("Hk+7"),_=n("pPdI"),L=n("/gND"),A=n("K+LV"),D=n("ZPNs"),z=n("xSvt"),B=n("pfDO"),U=n("5l08"),F=n("GrKC"),J=n("YRaA"),K=b.a.createElement;function Y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}var G={brest:{id:1,title:"\u041a\u043b\u0430\u0434\u0431\u0438\u0449\u0430 \u0411\u0440\u0435\u0441\u0442\u0430 \u0438 \u0411\u0440\u0435\u0441\u0442\u0441\u043a\u043e\u0439 \u043e\u0431\u043b\u0430\u0441\u0442\u0438"},vitebsk:{id:18,title:"\u041a\u043b\u0430\u0434\u0431\u0438\u0449\u0430 \u0412\u0438\u0442\u0435\u0431\u0441\u043a\u0430 \u0438 \u0412\u0438\u0442\u0435\u0431\u0441\u043a\u043e\u0439 \u043e\u0431\u043b\u0430\u0441\u0442\u0438"},gomel:{id:40,title:"\u041a\u043b\u0430\u0434\u0431\u0438\u0449\u0430 \u0413\u043e\u043c\u0435\u043b\u044f \u0438 \u0413\u043e\u043c\u0435\u043b\u044c\u0441\u043a\u043e\u0439 \u043e\u0431\u043b\u0430\u0441\u0442\u0438"},grodno:{id:62,title:"\u041a\u043b\u0430\u0434\u0431\u0438\u0449\u0430 \u0413\u0440\u043e\u0434\u043d\u043e \u0438 \u0413\u0440\u043e\u0434\u043d\u0435\u043d\u0441\u043a\u043e\u0439 \u043e\u0431\u043b\u0430\u0441\u0442\u0438"},minsk:{id:"80,125",title:"\u041a\u043b\u0430\u0434\u0431\u0438\u0449\u0430 \u041c\u0438\u043d\u0441\u043a\u0430 \u0438 \u041c\u0438\u043d\u0441\u043a\u043e\u0439 \u043e\u0431\u043b\u0430\u0441\u0442\u0438"},mogilev:{id:103,title:"\u041a\u043b\u0430\u0434\u0431\u0438\u0449\u0430 \u041c\u043e\u0433\u0438\u043b\u0451\u0432\u0430 \u0438 \u041c\u043e\u0433\u0438\u043b\u0451\u0432\u0441\u043a\u043e\u0439 \u043e\u0431\u043b\u0430\u0441\u0442\u0438"}},W=function(e){Object(u.a)(n,e);var t=Y(n);function n(e){var a;return Object(c.a)(this,n),a=t.call(this,e),Object(p.a)(Object(l.a)(a),"getCountryId",(function(){var e=a.props,t=e.country,n=e.countryIds;return t&&n?n[t]:"0"})),Object(p.a)(Object(l.a)(a),"getBaseUrl",(function(){a.props.country;var e="/cemeteries",t=a.props.region;return"all"!==t&&(e+="/".concat(t)),e})),Object(p.a)(Object(l.a)(a),"setResults",(function(e){return a.setState({cemeteries:e.results,total:e.total})})),Object(p.a)(Object(l.a)(a),"getResults",function(){var e=Object(s.a)(o.a.mark((function e(t,n){var r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object.keys(t).length){e.next=18;break}return"location"in t||(t.location="country-".concat(a.getCountryId())),a.setState({loading:!0,values:t,cemeteries:[]}),e.next=5,Object(A.a)();case 5:return r=e.sent,e.prev=6,e.next=9,D.a.set("X-CSRF-Token",r).post("/api/search/cemetery").send({values:t,page:n});case 9:s=e.sent,a.setResults(s.body),a.setState({loading:!1,error:!1}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(6),console.log(e.t0),a.setState({loading:!1,error:!0});case 18:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t,n){return e.apply(this,arguments)}}()),Object(p.a)(Object(l.a)(a),"onSubmit",function(){var e=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.props.region,a.setState({current:1}),a.getResults(t,1),"all"!==n&&P.Router.pushRoute("/cemeteries");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(p.a)(Object(l.a)(a),"turnPage",(function(e){var t=a.state.values,n=a.props.region;a.setState({current:e}),"all"===n?a.getResults(t,e):a.getResults({location:"region-".concat(G[n].id)},e)})),Object(p.a)(Object(l.a)(a),"formatValues",(function(e){return null!==e&&Object.keys(e).length&&"title"in e?"\xab".concat(e.title,"\xbb"):null})),Object(p.a)(Object(l.a)(a),"getPageTitle",(function(e){var t=a.props.loadedRegions;if("all"===e)return"\u041f\u043e\u0438\u0441\u043a \u043a\u043b\u0430\u0434\u0431\u0438\u0449\u0430";if(e in G)return G[e].title;if(t&&t.length){var n=t.find((function(t){return t.id===e}));if(n)return n.title}return"\u041f\u043e\u0438\u0441\u043a \u043a\u043b\u0430\u0434\u0431\u0438\u0449\u0430"})),Object(p.a)(Object(l.a)(a),"formatMeta",(function(e){var t=a.props.region;if("all"===t)return e;var n=Object.assign({},e),r=a.getPageTitle(t);return n.title="".concat(r.replace("\u041a\u043b\u0430\u0434\u0431\u0438\u0449\u0430","\u0412\u0441\u0435 \u043a\u043b\u0430\u0434\u0431\u0438\u0449\u0430")," | \u041f\u0440\u043e\u0435\u043a\u0442 \u041f\u043e\u043c\u043d\u0438\u043c"),n.description="".concat(r,", \u0430 \u0442\u0430\u043a\u0436\u0435 \u0437\u0430\u0445\u043e\u0440\u043e\u043d\u0435\u043d\u0438\u044f \u043d\u0430 \u043d\u0438\u0445 \u0441 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f\u043c\u0438 \u0438 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u0430\u043c\u0438. \u041f\u043e\u043c\u043e\u0436\u0435\u043c \u043d\u0430\u0439\u0442\u0438 \u0443\u0442\u0435\u0440\u044f\u043d\u043d\u043e\u0435 \u0437\u0430\u0445\u043e\u0440\u043e\u043d\u0435\u043d\u0438\u0435."),n})),Object(p.a)(Object(l.a)(a),"toggleRegions",(function(){return a.setState((function(e){return{showAll:!e.showAll}}))})),a.state={cemeteries:e.cemeteries,total:e.total,loading:!1,current:e.page,error:!1,values:null,showAll:!1},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=Object(s.a)(o.a.mark((function e(){var t,n,a,r,s,c,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.values,n=this.props,a=n.cemeteries,r=n.page,null===t){e.next=5;break}e.next=23;break;case 5:if(a.length||1!==r){e.next=23;break}return s=new B.a,c=s.getRequest(),this.setState({loading:!0}),e.next=11,Object(A.a)();case 11:return i=e.sent,e.prev=12,e.next=15,c.set("X-CSRF-Token",i).post("/api/search/cemetery").send({values:{sort:"count"},page:1});case 15:l=e.sent,this.setResults(l.body),this.setState({loading:!1}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(12),403===e.t0.response.statusCode&&"Captcha needed!"===e.t0.response.body.message&&this.setState({captcha:!0});case 23:case"end":return e.stop()}}),e,this,[[12,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.region,a=t.captcha,r=t.page;e.region!==n&&this.setState({cemeteries:e.cemeteries,total:e.total,current:1});var o=this.state.values;a&&!e.captcha&&window&&window.location.reload(),null===o&&r!==e.page&&this.setState({current:e.page,cemeteries:e.cemeteries})}},{key:"render",value:function(){var e=this.props,t=e.sidebar,n=e.region,r=e.meta,o=e.loadedRegions,s=e.country,c=this.state,i=c.cemeteries,l=c.loading,u=c.values,d=c.error,f=c.current,p=c.total,m=c.showAll;return K(b.a.Fragment,null,K(z.a,{metatags:this.formatMeta(r)}),l&&K(M.a,null),K(g.a,{className:"text-center cemeteries-jumbo mb-0"},K(h.a,null,K("h1",null,this.getPageTitle(n)),K(R,{handler:this.onSubmit}))),K("div",{className:"bg-light py-4"},K(h.a,{className:m?"regions-wrapper expanded":"regions-wrapper"},K(I.a,{loadedRegions:o,rootUrl:"/".concat(s,"/cemeteries"),country:s}),null!==o&&o.length>9&&K("div",{className:"d-flex justify-content-center"},K(v.a,{color:"link",onClick:this.toggleRegions},m?"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0440\u0435\u0433\u0438\u043e\u043d\u044b")))),K("div",{className:"py-5"},K(h.a,null,K("div",{className:"mb-3 col-12"},K(J.a,{blockId:"R-A-591908-1",mobileId:"R-A-591908-7",className:"ad-h-90-desktop"})),K(y.a,null,K(k.a,{lg:9,sm:12},i.length>0&&null!==u&&K(b.a.Fragment,null,K("h2",null,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443:"),K("div",{className:"display-4 text-dark mb-5"},this.formatValues(u)),K("div",{className:"py-2 bg-light border-top border-bottom"},K(v.a,{color:"link",className:"text-decoration-none"},K("i",{className:"icon-location mr-2"}),K("u",null,"\u041d\u0410 \u041a\u0410\u0420\u0422\u0415")))),K("div",{className:"mb-5"},i.map((function(e,t){return K(b.a.Fragment,{key:Math.random()},K(q,e),4===t&&K(J.a,{blockId:"R-A-591908-3"}),9===t&&K(J.a,{blockId:"R-A-591908-4"}),14===t&&K(J.a,{blockId:"R-A-591908-5"}))})),null!==u&&!d&&Object.keys(u).length>0&&0===i.length&&K("div",null,"\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u0435\u0434\u0451\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u043b\u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0440\u0430\u0448\u0438\u0440\u0438\u0442\u044c \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u043f\u043e\u0438\u0441\u043a\u0430, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0443\u0431\u0440\u0430\u0432 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0438\u0437 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043f\u043e\u043b\u0435\u0439."),(null===u||!Object.keys(u).length)&&!d&&0===i&&K("div",{className:"py-5"},"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u043f\u043e\u0438\u0441\u043a \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0444\u043e\u0440\u043c\u044b \u0432\u044b\u0448\u0435."),d&&K("div",{className:"text-danger py-5"},"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0436\u0435."),i.length>0&&null!==u&&K(_.a,{current:parseInt(f,10),total:parseInt(p,10),turnPage:this.turnPage}),i.length>0&&null===u&&K(L.a,{current:parseInt(f,10),total:parseInt(p,0),baseUrl:this.getBaseUrl()}))),K(k.a,{lg:3,sm:12},K(P.Link,{to:"/add-cemetery"},K(v.a,{color:"primary",className:"add-burial"},K("i",{className:"icon-plus"}),K("strong",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",K("br",null)," \u043a\u043b\u0430\u0434\u0431\u0438\u0449\u0435"))),t.map((function(e){return K(C.a,Object(a.a)({},e,{key:Math.random()}))}))))),K("div",{className:"p-3 bg-light"},K(J.a,{blockId:"R-A-591908-6"}))))}}],[{key:"getInitialProps",value:function(){var e=Object(s.a)(o.a.mark((function e(t){var n,a,r,s,c,i,l,u,d,f,p,m,b,g,h,v;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.request,a=t.query,r=t.countries,s=t.store,c={statusCode:200,transparentHeader:!0,sidebar:F,country:Object(U.a)()},i=r,"undefined"!==typeof r&&null!==r||(l=s.getState(),i=l.globalConfig.countries),c.countryIds=i,u=Object(U.a)(),d=i[u],f="page"in a?a.page:1,c.page=f,e.prev=9,!("region"in a)){e.next=22;break}return e.next=13,Object(A.a)();case 13:return p=e.sent,e.next=16,n.set("X-CSRF-Token",p).post("/api/search/cemetery").send({values:{location:"region-".concat((o=a.region,o in G?G[o].id:o))},page:f});case 16:m=e.sent,c.cemeteries=m.body.results,c.total=m.body.total,c.region=a.region,e.next=30;break;case 22:return e.next=24,Object(A.a)();case 24:return b=e.sent,e.next=27,n.set("X-CSRF-Token",b).post("/api/search/cemetery").send({values:{location:"country-".concat(d),sort:"count"},page:f});case 27:g=e.sent,c.cemeteries=g.body.results,c.total=g.body.total;case 30:if("by"===u){e.next=35;break}return e.next=33,n.get("/api/regions/".concat(d)).query({_format:"json"});case 33:h=e.sent,c.loadedRegions=h.body.map((function(e){return{id:e.id,title:(t=e,t.trueGenitive&&t.trueGenitive.length?"\u041a\u043b\u0430\u0434\u0431\u0438\u0449\u0430 ".concat(t.trueGenitive):"\u041a\u043b\u0430\u0434\u0431\u0438\u0449\u0430 ".concat(t.name))};var t}));case 35:e.next=40;break;case 37:e.prev=37,e.t0=e.catch(9),console.log(e.t0);case 40:return e.prev=40,e.next=43,n.get("/api/config/cemeteries/".concat(Object(U.a)()));case 43:v=e.sent,c=Object.assign(c,v.body),e.next=50;break;case 47:e.prev=47,e.t1=e.catch(40),console.log(e.t1);case 50:return e.abrupt("return",c);case 51:case"end":return e.stop()}var o}),e,null,[[9,37],[40,47]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(b.a.PureComponent);W.defaultProps={cemeteries:[],sidebar:[],region:"all",total:0,meta:{},page:1,country:Object(U.a)(),countryIds:{},loadedRegions:null};t.default=W},GrKC:function(e){e.exports=JSON.parse('[{"title":"\u041f\u043e\u0438\u0441\u043a \u0437\u0430\u0445\u043e\u0440\u043e\u043d\u0435\u043d\u0438\u0439","url":"/find","backgroundImage":"/static/content/sidebar/search.jpg"},{"title":"\u0418\u043d\u0432\u0435\u0441\u0442\u0438\u0440\u0443\u0439 \u0432 \u043f\u0440\u043e\u0435\u043a\u0442","url":"/page/investor","backgroundImage":"/static/banners/investor-2.jpeg"},{"blockId":"R-A-591908-2"}]')},"Hk+7":function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),o=n("bTjV"),s=r.a.createElement,c=function(e){var t=e.text;return s("div",{className:"global-loader flex-column"},s(o.a,{color:"primary",size:"xl",style:{width:"3rem",height:"3rem"}}),null!==t&&s("div",{className:"display-4 text-dark"},t))};c.defaultProps={text:null},t.a=c},"K+LV":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n("o0o1"),r=n.n(a),o=n("HaE+"),s=n("p46w"),c=n.n(s),i=n("ZPNs"),l=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.a.get("X-CSRF-Token")){e.next=7;break}return e.next=4,i.a.get("/session/token");case 4:n=e.sent,t=n.text,c.a.set("X-CSRF-Token",t,{expires:new Date((new Date).getTime()+36e4)});case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){return new Promise((function(e){var t=c.a.get("X-CSRF-Token");t&&e(t),i.a.get("/session/token").end((function(n,a){t=a.text,c.a.set("X-CSRF-Token",t,{expires:new Date((new Date).getTime()+36e4)}),e(t)}))}))}},L3zb:function(e,t,n){"use strict";var a=n("ELrk"),r=n("sDqW"),o=n("BRRx"),s=n("tEjU"),c=n("q1tI"),i=n.n(c),l=n("17x9"),u=n.n(l),d=n("TSYQ"),f=n.n(d),p=n("33Jr"),m={children:u.a.node,type:u.a.string,size:u.a.oneOfType([u.a.number,u.a.string]),bsSize:u.a.string,valid:u.a.bool,invalid:u.a.bool,tag:p.q,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),plaintext:u.a.bool,addon:u.a.bool,className:u.a.string,cssModule:u.a.object},b=function(e){function t(t){var n;return(n=e.call(this,t)||this).getRef=n.getRef.bind(Object(o.a)(n)),n.focus=n.focus.bind(Object(o.a)(n)),n}Object(s.a)(t,e);var n=t.prototype;return n.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},n.focus=function(){this.ref&&this.ref.focus()},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,o=e.type,s=e.bsSize,c=e.valid,l=e.invalid,u=e.tag,d=e.addon,m=e.plaintext,b=e.innerRef,g=Object(r.a)(e,["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"]),h=["radio","checkbox"].indexOf(o)>-1,v=new RegExp("\\D","g"),y=u||("select"===o||"textarea"===o?o:"input"),k="form-control";m?(k+="-plaintext",y=u||"input"):"file"===o?k+="-file":"range"===o?k+="-range":h&&(k=d?null:"form-check-input"),g.size&&v.test(g.size)&&(Object(p.t)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),s=g.size,delete g.size);var j=Object(p.m)(f()(t,l&&"is-invalid",c&&"is-valid",!!s&&"form-control-"+s,k),n);return("input"===y||u&&"function"===typeof u)&&(g.type=o),g.children&&!m&&"select"!==o&&"string"===typeof y&&"select"!==y&&(Object(p.t)('Input with a type of "'+o+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete g.children),i.a.createElement(y,Object(a.a)({},g,{ref:b,className:j,"aria-invalid":l}))},t}(i.a.Component);b.propTypes=m,b.defaultProps={type:"text"},t.a=b},LbWq:function(e,t,n){"use strict";var a=n("1OyB"),r=n("vuIU"),o=n("Ji7U"),s=n("md7G"),c=n("foSv"),i=n("q1tI"),l=n.n(i),u=l.a.createElement;function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(c.a)(e);if(t){var r=Object(c.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(s.a)(this,n)}}var f=function(e){Object(o.a)(n,e);var t=d(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){(window.adsbygoogle||[]).push({})}},{key:"render",value:function(){var e=this.props,t=e.slotId;return e.show?u(l.a.Fragment,null,u("ins",{className:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-8969827424684189","data-ad-slot":t,"data-ad-format":"auto","data-full-width-responsive":"true"})):null}}]),n}(l.a.PureComponent);f.defaultProps={show:!1},t.a=f},MvVG:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),o=n("vgUL"),s=n("sOKU"),c=n("/MKj"),i=n("8cHP"),l=n("LbWq"),u=n("YRaA"),d=r.a.createElement,f=function(e){var t=e.title,n=e.subtitle,a=e.url,r=e.backgroundImage,c=e.slotId,f=(e.country,e.blockId);return c?d(l.a,{slotId:c}):f?d(u.a,{blockId:f}):d(o.a,{className:"jumbo-teaser",style:{backgroundImage:"url(".concat(r,")")}},d("h2",{className:"jumbo-title text-white"},t),null!==n&&d("p",{className:"lead"},n),d("p",{className:"lead"},d(i.Link,{to:"".concat(a)},d(s.a,{color:"outline-primary",tag:"a",tabIndex:0},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"))))};f.defaultProps={title:null,url:null,backgroundImage:null,subtitle:null,slotId:null,blockId:null};t.a=Object(c.b)((function(e){return{country:e.country.country}}))(f)},TKOK:function(e,t,n){"use strict";var a=n("ELrk"),r=n("sDqW"),o=n("q1tI"),s=n.n(o),c=n("17x9"),i=n.n(c),l=n("TSYQ"),u=n.n(l),d=n("33Jr"),f={active:i.a.bool,children:i.a.node,className:i.a.string,cssModule:i.a.object,disabled:i.a.bool,tag:d.q},p=function(e){var t=e.active,n=e.className,o=e.cssModule,c=e.disabled,i=e.tag,l=Object(r.a)(e,["active","className","cssModule","disabled","tag"]),f=Object(d.m)(u()(n,"page-item",{active:t,disabled:c}),o);return s.a.createElement(i,Object(a.a)({},l,{className:f}))};p.propTypes=f,p.defaultProps={tag:"li"},t.a=p},YRaA:function(e,t,n){"use strict";var a=n("wx14"),r=n("1OyB"),o=n("vuIU"),s=n("JX7q"),c=n("Ji7U"),i=n("md7G"),l=n("foSv"),u=n("rePB"),d=n("q1tI"),f=n.n(d),p=n("/MKj"),m=f.a.createElement;function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(i.a)(this,n)}}var g=function(e){Object(c.a)(n,e);var t=b(n);function n(e){var a;return Object(r.a)(this,n),a=t.call(this,e),Object(u.a)(Object(s.a)(a),"resolveBannerId",(function(){var e=a.props,t=e.blockId,n=e.mobileId,r=e.mobileOnly,o=t;(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<728?o=n||t:r&&(o=null),a.setState({blockId:o},(function(){var e=window.Ya,t=a.state.blockId;e&&e.Context&&e.Context.AdvManager&&e.Context.AdvManager.render&&e.Context.AdvManager.render({blockId:t,renderTo:"yandex_rtb_".concat(t),async:!0})}))})),a.state={blockId:e.blockId},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.ads&&this.resolveBannerId()}},{key:"render",value:function(){var e=this.state.blockId,t=this.props.ads;return e&&t?m(f.a.Fragment,null,m("div",Object(a.a)({id:"yandex_rtb_".concat(e)},this.props))):null}}]),n}(f.a.PureComponent);g.defaultProps={mobileOnly:!1,mobileId:null,ads:!1};t.a=Object(p.b)((function(e){return{ads:e.globalConfig.ads}}))(g)},Zmcy:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cemeteries",function(){return n("CC9i")}])},bAGh:function(e,t,n){"use strict";var a=n("ELrk"),r=n("sDqW"),o=n("q1tI"),s=n.n(o),c=n("17x9"),i=n.n(c),l=n("TSYQ"),u=n.n(l),d=n("33Jr"),f={children:i.a.node,className:i.a.string,listClassName:i.a.string,cssModule:i.a.object,size:i.a.string,tag:d.q,listTag:d.q,"aria-label":i.a.string},p=function(e){var t,n=e.className,o=e.listClassName,c=e.cssModule,i=e.size,l=e.tag,f=e.listTag,p=e["aria-label"],m=Object(r.a)(e,["className","listClassName","cssModule","size","tag","listTag","aria-label"]),b=Object(d.m)(u()(n),c),g=Object(d.m)(u()(o,"pagination",((t={})["pagination-"+i]=!!i,t)),c);return s.a.createElement(l,{className:b,"aria-label":p},s.a.createElement(f,Object(a.a)({},m,{className:g})))};p.propTypes=f,p.defaultProps={tag:"nav",listTag:"ul","aria-label":"pagination"},t.a=p},bLKs:function(e,t,n){"use strict";var a=n("wx14"),r=n("Ff2n"),o=n("q1tI"),s=n.n(o),c=n("0E8A"),i=n("jrRI"),l=n("3OM0"),u=n("nP3w"),d=n("lUqG"),f=s.a.createElement,p=function(e){var t=e.name,n=e.type,o=e.title,s=e.required,p=e.description,m=Object(r.a)(e,["name","type","title","required","description"]),b="".concat(t,"-").concat(Math.random().toString(36).substr(2,9));return f(i.a,null,f(u.a,Object(a.a)({name:t,id:b,component:d.a,type:n,placeholder:o,required:s},m)),f(l.a,{for:b},o),s&&f("span",{className:"required-mark"},"*"),null!==p&&function(e){return"string"===typeof e?f(c.a,{dangerouslySetInnerHTML:{__html:e}}):f(c.a,null,e)}(p))};p.defaultProps={name:null,type:"text",required:!1,description:null},t.a=p},bTjV:function(e,t,n){"use strict";var a=n("ELrk"),r=n("sDqW"),o=n("q1tI"),s=n.n(o),c=n("17x9"),i=n.n(c),l=n("TSYQ"),u=n.n(l),d=n("33Jr"),f={tag:d.q,type:i.a.string,size:i.a.string,color:i.a.string,className:i.a.string,cssModule:i.a.object,children:i.a.string},p=function(e){var t=e.className,n=e.cssModule,o=e.type,c=e.size,i=e.color,l=e.children,f=e.tag,p=Object(r.a)(e,["className","cssModule","type","size","color","children","tag"]),m=Object(d.m)(u()(t,!!c&&"spinner-"+o+"-"+c,"spinner-"+o,!!i&&"text-"+i),n);return s.a.createElement(f,Object(a.a)({role:"status"},p,{className:m}),l&&s.a.createElement("span",{className:Object(d.m)("sr-only",n)},l))};p.propTypes=f,p.defaultProps={tag:"div",type:"border",children:"Loading..."},t.a=p},eztb:function(e,t,n){"use strict";var a=n("wx14"),r=n("Ff2n"),o=n("q1tI"),s=n.n(o),c=n("nP3w"),i=n("ifxC"),l=s.a.createElement,u=function(e){var t=e.input,n=(e.meta,Object(r.a)(e,["input","meta"]));return l(i.a,Object(a.a)({},t,n,{onChange:function(e){return t.onChange(e.value)}}))};u.defaultProps={input:null,meta:null};var d=u,f=s.a.createElement,p=function(e){var t=e.name,n=Object(r.a)(e,["name"]);return f(c.a,Object(a.a)({name:t,id:t,component:d},n))};p.defaultProps={name:null};t.a=p},hfBf:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("1OyB"),r=n("vuIU"),o=n("rePB"),s=n("yLiY"),c=n.n(s),i=n("ZPNs"),l=c()().publicRuntimeConfig,u=l.CLIENT_ID,d=l.CLIENT_SECRET,f=function(){function e(){var t=this;Object(a.a)(this,e),Object(o.a)(this,"refreshAuthToken",(function(e){return new Promise((function(n,a){console.log("Refreshing the access token..."),i.a.post("/oauth/token").send({grant_type:"refresh_token",refresh_token:e,client_id:u,client_secret:d}).set("Content-Type","application/x-www-form-urlencoded").unset("Authorization").then((function(e){var a=e.body;console.log("The new access token is generated."),t.accessToken=a.access_token,t.refreshToken=a.refresh_token,n({accessToken:a.access_token,expiration:new Date((new Date).getTime()+1e3*a.expires_in),refreshToken:a.refresh_token})})).catch((function(e){console.error("Could not refresh auth token."),a(e)}))}))})),this.accessToken="",this.refreshToken=""}return Object(r.a)(e,[{key:"getRequest",value:function(){return"string"===typeof this.accessToken&&this.accessToken.length?i.a.set("Authorization","Bearer ".concat(this.accessToken)):i.a.unset("Authorization"),i.a}},{key:"isLoggedIn",value:function(){return!!this.accessToken}},{key:"hasRefreshToken",value:function(){return!!this.refreshToken}}]),e}()},jrRI:function(e,t,n){"use strict";var a=n("ELrk"),r=n("sDqW"),o=n("q1tI"),s=n.n(o),c=n("17x9"),i=n.n(c),l=n("TSYQ"),u=n.n(l),d=n("33Jr"),f={children:i.a.node,row:i.a.bool,check:i.a.bool,inline:i.a.bool,disabled:i.a.bool,tag:d.q,className:i.a.string,cssModule:i.a.object},p=function(e){var t=e.className,n=e.cssModule,o=e.row,c=e.disabled,i=e.check,l=e.inline,f=e.tag,p=Object(r.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),m=Object(d.m)(u()(t,!!o&&"row",i?"form-check":"form-group",!(!i||!l)&&"form-check-inline",!(!i||!c)&&"disabled"),n);return"fieldset"===f&&(p.disabled=c),s.a.createElement(f,Object(a.a)({},p,{className:m}))};p.propTypes=f,p.defaultProps={tag:"div"},t.a=p},lUqG:function(e,t,n){"use strict";var a=n("wx14"),r=n("Ff2n"),o=n("q1tI"),s=n.n(o),c=n("L3zb"),i=["input","meta"],l=s.a.createElement,u=function(e){var t=e.input,n=e.meta,o=Object(r.a)(e,i);return l(s.a.Fragment,null,l(c.a,Object(a.a)({},t,o,{type:o.type?o.type:t.type,onChange:function(e){"checkbox"===t.type?t.onChange(e.target.checked):(t.onChange(e.target.value),o.onChange(e.target.value))}})),n.error&&n.touched&&l("span",{className:"text-danger order-10"},n.error))};u.defaultProps={input:null,meta:null,onChange:function(){},type:null},t.a=u},p46w:function(e,t,n){var a,r;!function(o){if(void 0===(r="function"===typeof(a=o)?a.call(t,n,t,e):a)||(e.exports=r),!0,e.exports=o(),!!0){var s=window.Cookies,c=window.Cookies=o();c.noConflict=function(){return window.Cookies=s,c}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var a in n)t[a]=n[a]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(a){function r(){}function o(t,n,o){if("undefined"!==typeof document){"number"===typeof(o=e({path:"/"},r.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(l){}n=a.write?a.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var i in o)o[i]&&(c+="; "+i,!0!==o[i]&&(c+="="+o[i].split(";")[0]));return document.cookie=t+"="+n+c}}function s(e,n){if("undefined"!==typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var c=o[s].split("="),i=c.slice(1).join("=");n||'"'!==i.charAt(0)||(i=i.slice(1,-1));try{var l=t(c[0]);if(i=(a.read||a)(i,l)||t(i),n)try{i=JSON.parse(i)}catch(u){}if(r[l]=i,e===l)break}catch(u){}}return e?r[e]:r}}return r.set=o,r.get=function(e){return s(e,!1)},r.getJSON=function(e){return s(e,!0)},r.remove=function(t,n){o(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}((function(){}))}))},pPdI:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),o=n("bAGh"),s=n("TKOK"),c=n("5Ves"),i=r.a.createElement,l=function(e){var t=e.current,n=e.total,a=e.perPage,r=e.turnPage;if(!n)return null;for(var l=Math.ceil(n/a),u=t+4<l?t+4:l,d=t-4>0?t-4:1,f=[];d<=u;)f.push(d),d+=1;var p=(t-1)*a+1,m=t*a<n?t*a:n;return i("div",{className:"d-md-flex py-3 justify-content-between align-items-center pager"},l>1&&i(o.a,null,t>1&&i(s.a,{className:"first"},i(c.a,{previous:!0,onClick:function(){return r(t-1)}})),f.map((function(e){return i(s.a,{key:e,active:e===t},i(c.a,{onClick:function(){return r(e)}},e))})),t<l&&i(s.a,{className:"last"},i(c.a,{next:!0,onClick:function(){return r(t+1)}}))),n>1&&i("div",{className:"ml-md-auto mt-3 mt-md-0"},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b ",p,"-",m," \u0438\u0437 ",n))};l.defaultProps={current:1,total:0,perPage:20,turnPage:function(){}},t.a=l},pfDO:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n("1OyB"),r=n("vuIU"),o=n("JX7q"),s=n("Ji7U"),c=n("md7G"),i=n("foSv"),l=n("rePB"),u=n("p46w"),d=n.n(u),f=n("yLiY"),p=n.n(f),m=n("hfBf"),b=n("ZPNs"),g=n("K+LV");function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(i.a)(e);if(t){var r=Object(i.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var v=p()().publicRuntimeConfig,y=v.CLIENT_ID,k=v.CLIENT_SECRET,j=function(e){Object(s.a)(n,e);var t=h(n);function n(){var e;Object(a.a)(this,n),e=t.call(this),Object(l.a)(Object(o.a)(e),"login",(function(e,t){return new Promise((function(n,a){b.a.post("/oauth/token").send({grant_type:"password",client_id:y,client_secret:k,username:e,password:t,scope:["authenticated","manager"]}).set("Content-Type","application/x-www-form-urlencoded").end((function(e,t){if(e)console.error("Auth error:",e),t&&t.body&&t.body.message&&(console.log("Response:",t.body.message),a(t.body.message)),a(new Error("Could not authenticate user. Please, try again."));else{console.log("Successful login.");var r=t.body;d.a.set("accessToken",r.access_token,{expires:new Date((new Date).getTime()+1e3*r.expires_in)}),d.a.set("refreshToken",r.refresh_token,{expires:365}),n()}}))}))})),Object(l.a)(Object(o.a)(e),"logout",(function(){return new Promise((function(t){Object(g.b)().then((function(n){b.a.post("/user/token/revoke").set("Content-Type","application/json").set("Authorization","Bearer ".concat(e.accessToken)).set("X-CSRF-TOKEN",n).end((function(n,a){n&&(console.error("Logout error:",n),a&&a.body&&a.body.message&&console.error("Response:",a)),e.accessToken="",e.refreshToken="",d.a.remove("accessToken"),d.a.remove("refreshToken"),d.a.remove("X-CSRF-Token"),t()}))}))}))}));var r=d.a.get();return e.accessToken=r&&r.accessToken?r.accessToken:"",e.refreshToken=r&&r.refreshToken?r.refreshToken:"",e}return Object(r.a)(n,[{key:"refreshAuthenticationToken",value:function(){var e=this;return new Promise((function(t,n){console.log("refreshing token for client.."),e.refreshAuthToken(e.refreshToken).then((function(n){console.log("Setting client auth cookies..."),d.a.set("accessToken",n.accessToken,{expires:n.expiration}),d.a.set("refreshToken",n.refreshToken,{expires:365}),e.accessToken=n.accessToken,e.refreshToken=n.refreshToken,t(n.accessToken)})).catch((function(e){n(e)}))}))}},{key:"getAccessToken",value:function(){var e=this;return this.accessToken?new Promise((function(t){return t(e.accessToken)})):this.refreshAuthenticationToken()}}]),n}(m.a)},vgUL:function(e,t,n){"use strict";var a=n("ELrk"),r=n("sDqW"),o=n("q1tI"),s=n.n(o),c=n("17x9"),i=n.n(c),l=n("TSYQ"),u=n.n(l),d=n("33Jr"),f={tag:d.q,fluid:i.a.bool,className:i.a.string,cssModule:i.a.object},p=function(e){var t=e.className,n=e.cssModule,o=e.tag,c=e.fluid,i=Object(r.a)(e,["className","cssModule","tag","fluid"]),l=Object(d.m)(u()(t,"jumbotron",!!c&&"jumbotron-fluid"),n);return s.a.createElement(o,Object(a.a)({},i,{className:l}))};p.propTypes=f,p.defaultProps={tag:"div"},t.a=p}},[["Zmcy",0,1,15,2,3,4,5,6,7,8,9,16,18,22,28]]]);